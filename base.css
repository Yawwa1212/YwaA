:root{
  --bg:#07070c;
  --panel:rgba(10,12,20,0.88);
  --panel2:rgba(8,10,16,0.92);
  --line:rgba(120,140,255,0.18);
  --text:#e9ebff;
  --muted:rgba(220,225,255,0.72);
  --neon:#3af6ff;
  --magenta:#ff4bd8;
  --gold:#ffcf5a;
  --danger:#ff356b;
  --ok:#3cff86;
  --shadow:0 20px 60px rgba(0,0,0,0.55);
  --radius:18px;
  --px:2px;
  --blur:0px;
  --dark:1;
  --noise:0.10;
  --saturation:1.0;
  --glow:0 0 20px rgba(58,246,255,0.32);
  --glow2:0 0 26px rgba(255,75,216,0.28);

  font-family: ui-monospace, "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

* {box-sizing:border-box}
html, body {height:100%}
body {
  margin:0;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 20% 20%, rgba(58,246,255,0.15), transparent 60%),
    radial-gradient(900px 500px at 80% 10%, rgba(255,75,216,0.14), transparent 55%),
    radial-gradient(1000px 650px at 70% 90%, rgba(255,207,90,0.08), transparent 60%),
    linear-gradient(160deg, #05050a, #070710 50%, #0b1020);
  overflow-x:hidden;
  filter: brightness(var(--dark)) saturate(var(--saturation)) blur(var(--blur));
  image-rendering: pixelated; /* 도트 컨셉 강화 */
}

body.mood-pleasure{
  --line:rgba(120,255,210,0.22);
  --saturation:1.18;
  --glow:0 0 26px rgba(60,255,134,0.36);
  --glow2:0 0 30px rgba(58,246,255,0.28);
}

body.mood-industrial{
  --line:rgba(170,180,210,0.14);
  --saturation:0.92;
  --glow:0 0 18px rgba(160,170,210,0.18);
  --glow2:0 0 18px rgba(255,53,107,0.14);
}

.topbar{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  padding:18px 22px 10px;
}
.brand-title{font-weight:900; letter-spacing:0.12em; font-size:22px; text-shadow:var(--glow)}
.brand-sub{font-size:12px; color:var(--muted); letter-spacing:0.05em}

.topbar-right{display:flex; gap:10px; align-items:center}
.meter{display:flex; gap:10px; align-items:baseline; padding:10px 12px; border:1px solid var(--line); background:rgba(5,7,12,0.55); border-radius:14px; box-shadow:var(--shadow)}
.meter-label{font-size:12px; color:var(--muted)}
.meter-value{font-size:16px; font-weight:800}

.ghost{
  border:1px solid var(--line);
  background:rgba(5,7,12,0.45);
  color:var(--text);
  border-radius:14px;
  padding:10px 12px;
  cursor:pointer;
  letter-spacing:0.06em;
}
.ghost:hover{box-shadow:var(--glow)}

.shell{
  display:grid;
  grid-template-columns: 1.12fr 0.88fr;
  gap:16px;
  padding:10px 18px 18px;
  max-width:1180px;
  margin:0 auto;
}

.panel{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:14px;
}

.wheel-panel{display:grid; gap:12px}
.wheel-header{display:flex; justify-content:space-between; align-items:baseline}
.wheel-title{font-weight:900; letter-spacing:0.14em; font-size:14px}
.wheel-status{color:var(--muted); font-size:12px}

.wheel-stage{position:relative; display:flex; align-items:center; justify-content:center; height:420px}
.pointer{position:absolute; top:0; left:50%; transform:translateX(-50%); font-size:24px; color:var(--text); text-shadow:var(--glow2)}
.wheel-glass{position:absolute; inset:0; background:radial-gradient(circle at 50% 50%, rgba(255,255,255,0.05) 0%, transparent 50%); border-radius:50%; box-shadow:inset 0 0 20px rgba(0,0,0,0.45)}
#roulette{image-rendering: pixelated; box-shadow:var(--glow), var(--glow2)}

.lever-zone{display:flex; gap:16px; align-items:center}
.lever-wrap{position:relative}
#lever{display:flex; flex-direction:column; align-items:center; border:none; background:none; cursor:pointer; padding:0}
.lever-base{width:48px; height:12px; border-radius:6px; background:var(--panel2); border:1px solid var(--line)}
.lever-shaft{width:6px; height:42px; background:linear-gradient(0deg, var(--line), transparent)}
.lever-knob{width:22px; height:22px; border-radius:50%; background:radial-gradient(circle, var(--danger) 0%, var(--danger) 50%, transparent 100%); box-shadow:var(--glow2)}
#lever{transform-origin:50% 90%; transition:transform 120ms ease-out}
#lever.pull{animation: lever-neutral 280ms ease-out forwards}

.controls{display:grid; gap:8px}
.row{display:flex; gap:8px}
.field{display:flex; flex-direction:column; gap:4px}
.field label{font-size:12px; color:var(--muted)}
.field input{padding:8px 10px; background:var(--panel2); border:1px solid var(--line); color:var(--text); border-radius:12px}
.primary{background:linear-gradient(120deg, var(--neon), var(--magenta)); color:#06070d; font-weight:700; letter-spacing:0.08em; box-shadow:var(--glow)}
.primary:hover{transform: translateY(-1px)}
.secondary{background:var(--panel2); border:1px solid var(--line); color:var(--text)}
.danger{border-color:var(--danger); color:var(--danger)}

.stats{display:grid; grid-template-columns:repeat(auto-fit, minmax(80px,1fr)); gap:8px}
.stat{display:flex; flex-direction:column; gap:4px; padding:10px; background:var(--panel2); border:1px solid var(--line); border-radius:14px}
.k{font-size:12px; color:var(--muted)}
.v{font-weight:800; text-shadow:var(--glow)}

.organs-card{display:grid; gap:8px; margin-top:16px}
.card-title{font-weight:900; letter-spacing:0.14em; font-size:12px}
.organs{display:flex; gap:6px; flex-wrap:wrap}
.organ-chip{padding:6px 8px; border-radius:999px; background:var(--panel2); border:1px solid var(--line); font-size:12px; font-weight:700; box-shadow:var(--glow)}
.organ-chip.taken{opacity:0.55; text-decoration:line-through; border-color:rgba(255,53,107,0.22)}

.log-card{margin-top:16px}
.log{height:260px; overflow:auto; border-radius:16px; border:1px solid rgba(255,255,255,0.08); background:rgba(0,0,0,0.26); padding:10px}
.log-line{font-size:12px; color:rgba(230,235,255,0.88); margin:0 0 8px}
.log-line .dim{color:var(--muted)}
.log-line.win{color:rgba(60,255,134,0.92)}
.log-line.lose{color:rgba(255,53,107,0.9)}
.log-line.event{color:rgba(255,207,90,0.92)}

.anatomy{position:fixed; right:14px; top:86px; width:230px; background:rgba(0,0,0,0.42); border:1px solid rgba(255,255,255,0.10); border-radius:16px; box-shadow:var(--shadow); padding:12px; z-index:20; backdrop-filter: blur(6px)}
.anatomy-title{font-weight:900; letter-spacing:0.14em; font-size:11px; color:var(--muted); margin-bottom:8px}
.anatomy object{width:100%; height:320px}

.modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.6); z-index:50; padding:20px}
.modal-card{width:min(520px, 92vw); background:var(--panel2); border:1px solid rgba(255,255,255,0.10); border-radius:18px; box-shadow:var(--shadow); overflow:hidden}
.modal-head{display:flex; justify-content:space-between; align-items:center; padding:14px 14px 10px; border-bottom:1px solid rgba(255,255,255,0.08)}
.modal-title{font-weight:900; letter-spacing:0.14em}
.modal-body{padding:14px}
.muted{color:var(--muted); font-size:12px; line-height:1.6}
.loanShark{margin-top:14px; padding:12px; border-radius:16px; border:1px dashed rgba(255,207,90,0.25); background:rgba(255,207,90,0.06)}
.shark-title{font-weight:900; letter-spacing:0.12em; font-size:12px; margin-bottom:8px}

.organ-grid{display:grid; grid-template-columns: repeat(2, 1fr); gap:10px; margin-top:10px}
.organ-card{padding:12px; border-radius:16px; border:1px solid rgba(255,255,255,0.10); background:rgba(0,0,0,0.24); cursor:pointer}
.organ-card:hover{box-shadow:var(--glow2)}
.organ-card .name{font-weight:900; letter-spacing:0.12em}
.organ-card .desc{margin-top:6px; font-size:12px; color:var(--muted)}

.toast{position:fixed; left:50%; bottom:18px; transform:translateX(-50%); padding:10px 12px; background:rgba(0,0,0,0.62); border:1px solid rgba(255,255,255,0.12); border-radius:14px; color:rgba(255,255,255,0.92); box-shadow:var(--shadow); z-index:80; font-size:12px; letter-spacing:0.04em}

@media (max-width: 980px){
  .shell{grid-template-columns: 1fr; padding-bottom:120px}
  .anatomy{right:10px; top:auto; bottom:10px; width:200px}
  .log{height:220px}
}
